/*
*//* MODELS DECLARATION
*//* PLAYLISTS FOR THE GENERAL LIST OF PLAYLISTS
*//* PLAYLIST FOR A SPECIFIC PLAYLIST
*//* SONG FOR SONGS
*//*
*/(function(a,b){var c,d,e,f,g;g=a.SOUNDTEST=a.SOUNDTEST||{},f=g.db,g.Playlists===void 0&&(d=function(a){var b,e,g,h,i;if(this instanceof d==0)return new d(a);this.db_prefix=a,this.list=[],this.playlists_ids=f.get(this.db_prefix+"playlist_ids");if(this.playlists_ids!==!1){i=this.playlists_ids;for(g=0,h=i.length;g<h;g++)b=i[g],e=f.get(this.db_prefix+"playlist_"+b),e.db_prefix=this.db_prefix,this.list.push(new c(e))}else this.playlists_ids=[];return this},d.prototype={create:function(a){var b,d;return b=this.list.length,a.id=b,a.active=!0,a.songs_list=a.songs_list||[],a.db_prefix=this.db_prefix,d=new c(a),this.playlists_ids.push(b),f.set(this.db_prefix+"playlist_ids",this.playlists_ids),this.list.push(d),f.set(this.db_prefix+"playlist_"+b,d),d},get:function(a){return this.list[a]},update:function(a){var b,c;b=a.id;if(c=this.list[b])c.title=a.title,c.description=a.description,f.set(this.db_prefix+"playlist_"+b,this.list[b])},remove:function(a){return this.list[a].active=!1,f.set(this.db_prefix+"playlist_"+a,this.list[a]),!0}},c=function(a){var b,d,f;if(this instanceof c==0)return new c(a);this.db_prefix=a.db_prefix,this.id=a.id,this.title=a.title,this.description=a.description,this.active=a.active,this.songs_list={},a.songs_list=a.songs_list||{},f=a.songs_list;for(b in f)d=f[b],this.songs_list[d.id]=new e(d);return this},c.prototype={add_song:function(a){this.songs_list[a.id]=new e(a),f.set(this.db_prefix+"playlist_"+this.id,this)},remove_song:function(a){this.songs_list[a]=null,delete this.songs_list[a],f.set(this.db_prefix+"playlist_"+this.id,this)}},e=function(a){return this instanceof e==0?new e(a):(this.id=a.id,this.title=a.title,this.artwork_url=a.artwork_url,this.duration=a.duration,this)},g.Playlists=d)})(window,document);